<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Be My Valentine üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    height: 100vh;
    background: radial-gradient(circle at top, #ff9a9e, #fad0c4);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* Card */
.card {
    width: min(90%, 420px);
    background: rgba(255,255,255,0.25);
    backdrop-filter: blur(20px);
    border-radius: 28px;
    padding: 40px 30px 50px;
    text-align: center;
    box-shadow: 0 25px 60px rgba(0,0,0,0.25);
}

h1 {
    font-size: 32px;
    color: #b1004b;
    min-height: 90px;
}

/* Romantic message */
#romanticText {
    margin-top: 12px;
    font-size: 16px;
    color: #5f0030;
    min-height: 24px;
    opacity: 0;
    transition: opacity 0.6s ease;
}

/* Buttons */
.buttons {
    margin-top: 40px;
    height: 150px;
    position: relative;
}

button {
    padding: 14px 34px;
    font-size: 18px;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    position: absolute;
}

.yes {
    background: linear-gradient(135deg, #ff4d6d, #ff8fa3);
    color: white;
    left: 50%;
    transform: translateX(-110px);
}

.no {
    background: white;
    color: #ff4d6d;
    left: 50%;
    transform: translateX(30px);
}

/* Floating hearts */
.heart {
    position: absolute;
    font-size: 18px;
    animation: floatUp 6s linear infinite;
}

@keyframes floatUp {
    to {
        transform: translateY(-120vh) scale(1.6);
        opacity: 0;
    }
}

/* Confetti */
.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: hsl(var(--hue), 80%, 60%);
    animation: fall 3s linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(120vh) rotate(720deg);
        opacity: 0;
    }
}
/* Spotify mini widget */
/* Spotify widget fixed at bottom of card */
.spotify-widget {
    position: absolute;
    bottom: 16px;
    left: 20px;
    right: 20px;
    padding-top: 10px;
    border-top: 1px solid rgba(255,255,255,0.35);
}

.spotify-title {
    font-size: 12px;
    color: #8a003a;
    opacity: 0.85;
    display: block;
    margin-bottom: 6px;
}

#spotifyPlayer iframe {
    width: 100%;
    height: 80px;
    border-radius: 14px;
    border: none;
}
#mainCard, #loveScreen {
    transition: opacity 0.6s ease;
}


</style>
</head>

<body>



<div id="mainCard" class="card">
    <h1 id="typing"></h1>
    <div id="romanticText"></div>

    <div class="buttons" id="area">
        <button class="yes" id="yes">Yes üíï</button>
        <button class="no" id="no">No üòù</button>
    </div>
    <div id="spotifyWidget">
    <div class="spotify-label">üéµ Love vibes</div>
    <div id="spotifyPlayer"></div>
</div>
</div>

<div id="loveScreen" style="
    display:none;
    position:fixed;
    inset:0;
    background:radial-gradient(circle,#ff4d6d,#b1004b);
    align-items:center;
    justify-content:center;
    color:white;
    padding:30px;
    overflow:auto;
">
    <div style="
        max-width:600px;
        background:rgba(255,255,255,0.15);
        backdrop-filter:blur(20px);
        border-radius:24px;
        padding:30px;
        box-shadow:0 20px 50px rgba(0,0,0,0.3);
    ">
  
         <h1 style="font-size:42px;">YAYYYYYYYYY üíò</h1>
            <p style="font-size:20px;margin:15px 0;">
                You just made my world brighter üåπ
            </p>
          
            <p style="font-size:16px;opacity:0.9;">
                Happy Valentine ${name} üíñ
            </p>
          
          
        <p id="letterText" style="
            font-size:18px;
            line-height:1.7;
            white-space:pre-line;
        "></p>
    </div>
</div>



<script>
/* ---------- SHAREABLE NAME ---------- */
const params = new URLSearchParams(window.location.search);
const name = params.get("name");
const question = "Will you be my Valentine? üíñ"
//    ? `${name}, will you be my Valentine? üíñ`
//    : "Will you be my Valentine? üíñ";

/* ---------- TYPING ANIMATION ---------- */
const typing = document.getElementById("typing");
let i = 0;
function typeText() {
    if (i < question.length) {
        typing.innerHTML += question[i++];
        setTimeout(typeText, 80);
    }
}
typeText();

/* ---------- ROMANTIC MESSAGES ---------- */
const romanticLines = [
    "Every love story is beautiful, but ours could be my favorite üíï",
    "I smile a little more every time I think of you ‚ú®",
    "You make ordinary moments feel magical üí´",
    "If love had a face, it would look like you üíñ",
    "Some hearts just understand each other ‚ù§Ô∏è"
];

const romanticText = document.getElementById("romanticText");
let msgIndex = 0;

function rotateRomanticText() {
    romanticText.style.opacity = 0;
    setTimeout(() => {
        romanticText.textContent = romanticLines[msgIndex];
        romanticText.style.opacity = 1;
        msgIndex = (msgIndex + 1) % romanticLines.length;
    }, 600);
}

rotateRomanticText();
setInterval(rotateRomanticText, 3000);

/* ---------- NO BUTTON SPEED ---------- */
const noBtn = document.getElementById("no");
const area = document.getElementById("area");
let speed = 300;

function moveNo() {
    const maxX = area.clientWidth - noBtn.offsetWidth;
    const maxY = area.clientHeight - noBtn.offsetHeight;

    noBtn.style.transition = `all ${speed}ms ease`;
    noBtn.style.left = Math.random() * maxX + "px";
    noBtn.style.top = Math.random() * maxY + "px";
    noBtn.style.transform = "none";

    speed = Math.max(80, speed - 40);
}

noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("touchstart", e => {
    e.preventDefault();
    moveNo();
});

/* ---------- YES ACTION ---------- */
document.getElementById("yes").onclick = () => {
   // celebrate();

    // Hide card, but DO NOT remove it
    document.getElementById("mainCard").style.display = "none";

    // Show love letter screen
    const screen = document.getElementById("loveScreen");
    screen.style.display = "flex";

    typeLoveLetter();
};


/* ---------- CONFETTI ---------- */
function celebrate() {
    for (let i = 0; i < 160; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random() * 100 + "vw";
        c.style.top = "-10px";
        c.style.setProperty("--hue", Math.random() * 360);
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 3000);
    }
}

/* ---------- FLOATING HEARTS ---------- */
setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";
    h.innerHTML = "‚ù§Ô∏è";
    h.style.left = Math.random() * 100 + "vw";
    h.style.bottom = "-20px";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 6000);
}, 600);
</script>

<script>
const playlists = [
  "37i9dQZF1DX4pAtJteyweQ",
  "5VInfryS0G9ZDrjJZGAnWl",
  "3jITKDEiHyS22uNjIBCfi2",
  "0yBoo0bRoygrOMeFTo1vIK",
  "5FlOWjWqofAEepXQW4DOTmI",
  "7vBkII69yc6liOLEdFyK1Q"
];

function loadRandomSpotifyPlaylist() {
    const randomId = playlists[Math.floor(Math.random() * playlists.length)];
    const iframe = document.createElement("iframe");

    iframe.src = `https://open.spotify.com/embed/playlist/${randomId}`;
    iframe.width = "320";
    iframe.height = "380";
    iframe.frameBorder = "0";
    iframe.allow = "encrypted-media";
    iframe.style.borderRadius = "16px";
    iframe.style.boxShadow = "0 15px 40px rgba(0,0,0,0.25)";

    document.getElementById("spotifyPlayer").appendChild(iframe);
}

/* Load on page start */
window.addEventListener("load", loadRandomSpotifyPlaylist);
</script>


</body>
</html>
